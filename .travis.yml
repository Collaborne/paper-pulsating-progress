dist: trusty
sudo: false
group: beta
language: node_js
node_js:
- node
addons:
  firefox: 49.0.2
cache:
  directories:
  - node_modules
  - "$HOME/.cache/bower"
before_install:
- if [ -d node_modules ] && [ x$(cat node_modules/.last-node-version 2>/dev/null)
  != x$(node -e 'console.log(process.version)') ]; then npm rebuild && node -e 'console.log(process.version)'
  > node_modules/.last-node-version; fi
before_script:
- npm install web-component-tester bower@1.7.9 polylint
- "$(npm bin)/bower install"
- "$(npm bin)/polylint --no-recursion"
script:
- xvfb-run $(npm bin)/wct
after_success: '[ ${TRAVIS_PULL_REQUEST} = "false" ] && [ ${TRAVIS_BRANCH} = "master"
  ] && $(npm bin)/bower install -s https://${GH_TOKEN}@github.com/Collaborne/collaborne-build-tools.git
  && bower_components/collaborne-build-tools/gpages_build.sh Collaborne info@collaborne.com'
env:
  secure: QPZFz3uEn4AExulCcz128gErB8zmVd9PyRMqcCp+oYe0/k2QpMyWUVXlK+BRz66Ij7hJkXPQywnbn+0Q9kp+lNc4Nl2LhVtv/Kn/ml08joPb83EFppwUgfEGS10EfqdRVTaEwchNR63rP3jZWuAkNKGq5K5hiE2xQH/EXVII/jjE0ctAgAu0+sSFgaCeMrXXnRDoO0SbelAj7hIOnO7u2XOMhOdKkHgx+9AcMAfSJoAQVce/OIsECAowqMPchK9K0vB3FsyOaw8/V9akQlgz5czLLJaG17HqOBrIps8fJen26543FgyfmU4siOR0AhPoXDWMN0U2rc1WLp5M7F04sIR3kjywItCN3Qb2o8S15aYytLjjTRcxO/TgS8EcyWf8JLcMbK6pQJCvpjBkRvyAxoTduC/tiRErBygqBmwNz1E29RnVqrKRkviqN67Si45kQuprY/XEcXMWEu4/aRHC/RTOFNobqgQqWTG0gvhsXJcSgA/i+meEWFud7uTBxMn6pF50UpksIJqH9ZNCmHu+/wlsta/ixEmotHkWTpb+Rcd0aCHDfQY1Bph/CWBXd/4sP34AMwDRLBNEu5FiVVgBmEGF/XQ0myzvOFtzqDnX0yu3V3RUma2MN0/t09wXtIic0tXIwDkT43X2DN69kT8VkamTiL1B0ZAbmQ0mBEyS+lw=
