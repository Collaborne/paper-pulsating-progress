<!doctype html>
<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../iron-icon/iron-icon.html">
<link rel="import" href="../iron-icons/iron-icons.html">
<link rel="import" href="../iron-flex-layout/iron-flex-layout.html">

<!--
This elements shows a loading indicator that is pulsating when being active.

The following custom properties are available for styling:

Custom property | Description | Default
----------------|-------------|----------
`--paper-pulsating-progress-color` | Color of the pulsating icons | green

@element paper-pulsating-progress
@demo demo/index.html
-->
<dom-module id="paper-pulsating-progress">

	<template>

		<style>
			:host {
				@apply --layout-horizontal;
				@apply --layout-center-center;

				/* Block height even if plus icons are not visible to avoid
				   the design from jumping as they get visible */
				height: 24px;
			}

			@keyframes fadeInAndOut {
				0%   { opacity: 1.0; }
				50%  { opacity: 0.3; }
				100% { opacity: 1.0; }
			}
			:host .plus {
				display: none;
			}
			:host([active]) .plus {
				display: block;
				animation: fadeInAndOut .75s ease-in-out infinite;
				color: var(--paper-pulsating-progress-color, green);
			}
			:host([active]) .plus-2 {
				animation-delay: .25s;
			}
			:host([active]) .plus-3 {
				animation-delay: .5s;
			}
		</style>

		<iron-icon icon="icons:add" class="plus plus-1"></iron-icon>
		<iron-icon icon="icons:add" class="plus plus-2"></iron-icon>
		<iron-icon icon="icons:add" class="plus plus-3"></iron-icon>
	</template>
</dom-module>

<script>

(function() {

	Polymer({
		is: 'paper-pulsating-progress',
		properties: {
			/**
			 * True if the icons are visible and pulsating
			 */
			active: {
				type: Boolean,
				value: false,
				reflectToAttribute: true,
			},
		},
	});

})();

</script>

